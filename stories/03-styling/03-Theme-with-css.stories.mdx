<Meta title="Styling|Theming with CSS" />

# Theming components with CSS
Themes can be applied using CSS styling functionality built in to Irving Core. This is accomplished by leveraging Core's built-in [CSS Modules functionality via `css-loader`](https://webpack.js.org/loaders/css-loader/#modules), which exports an object of `className` values from a CSS file which we can then manipulate to create a theme. Core itself does not contain any themable componentsâ€”instead it offers you the means to theme your own components via a [`withThemes`](https://github.com/alleyinteractive/irving/blob/master/packages/core/components/hoc/withThemes.js) higher-order component (HOC). An example of what that might look like is:

```js
import React from 'react';
import withThemes from '@irvingjs/core/components/hoc/withThemes';
import defaultTheme from './themes/default.css';
import customTheme from './themes/customTheme.css';

const MyComponent = (props) => {
  const { theme } = props;

  return (
    <div className={theme.wrapper}>
      <span className={theme.content}>This is the component content</span>
    </div>
  )
}

export default withThemes(
  'component-identifier',
  {
    default: defaultTheme,
    custom: customTheme,
  },
  true // composes
)(MyComponent);
```

As illustrated above, the `withThemes` HOC requires:
* A unique identifier. This is used for pulling a component's themes out of a context provider.
* An object map of the component's available themes.
* An optional `composes` boolean flag. If this is turned on, theme classes will be _added_ to default classes instead of replacing them, effectively using the default theme as a basis for all other themes.

This HOC will provide the following functionality to the component on which it is applied:
* A `theme` prop containing the classNames of the current theme (either `composed` or not, depending on if the flag is set). Note that unlike with regular CSS Modules you'll be accessing className values via the `theme` prop instead of an imported `styles` object.
* Allow the `theme` prop to be derived in one of three ways:
  * Pulled out of the component's predefined theme mapping using a `themeName` prop to access the appropriate key in the mapping object.
  * Pulled out of React Context using the `indentifier` supplied to the HOC to access the necessary `themeName`, which will be in turn used to access the `theme` via the theme mapping object.
  * Supplied directly to the component via a `theme` prop.

Also illustrated above you can see the `className` values on the theme itself are accessed like an object, just as you would with css modules. Note that if a theme does not supply a `className` to override every class used in the component, the `className` value from the default theme will be used. The markup in the above example should look something like this (note that `composes` is set to true in this example):

```html
<div class="default__wrapper__1n274 customTheme__wrapper__n38f7">
  <span class="default__content__v7892 customTheme__content__dkvus">This is the component content</span>
</div>
```

That's it! As you can see, theming with Irving Core is relatively similar to theming with `styled-components`. Happy styling!